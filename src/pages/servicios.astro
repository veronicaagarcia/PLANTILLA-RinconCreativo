---
import Subtitle from '../components/Subtitle'
import Text from '../components/Text'
import Layout from '../layouts/Layout.astro'
import Card from '../components/Card'
import Breadcrumb from '../components/Breadcrumb.astro'
import { serviciosText } from '../mock/textViews/serviciosText'
import { Servicios as servicios } from '../mock/servicios'

// Generate structured data for services
const servicesSchema = {
	"@context": "https://schema.org",
	"@type": "ItemList",
	"name": "Servicios de Dise침o Creativo",
	"description": "Lista completa de servicios de dise침o que ofrece Rinc칩n Creativo",
	"numberOfItems": servicios.length,
	"itemListElement": servicios.map((servicio, index) => ({
		"@type": "Service",
		"position": index + 1,
		"name": servicio.name,
		"description": servicio.text,
		"provider": {
			"@type": "Organization",
			"name": "Rinc칩n Creativo"
		},
		"serviceType": servicio.name,
		"areaServed": "Uruguay",
		"url": `https://hermesplantilla1.netlify.app/servicios#${servicio.id}`
	}))
};

// Breadcrumb items
const breadcrumbItems = [
	{ name: "Inicio", url: "/" },
	{ name: "Servicios", url: "/servicios" }
];
---

<Layout title={serviciosText.metaTitle} content={serviciosText.metaContent}>
	<main>
		<section class="w-full mx-auto px-4 py-8 md:w-11/12 xl:w-10/12 border-2 border-t-0 border-b-0 border-dashed md:border-3 md:border-y-0 border-COLOR1 flex flex-col justify-center items-center">

			<!-- Breadcrumb Navigation -->
			<div class="w-full mb-6">
				<Breadcrumb items={breadcrumbItems} />
			</div>

			<!-- Primera seccion (subtitulo y texto) -->
			<Subtitle name={serviciosText.Subtitle1} bgColor='bg-COLOR3' textColor='CBACKGROUND' client:visible />
            <Text text={serviciosText.text1} textColor='COLOR1' client:visible/>

			<!-- detalle de cada servicio, uno bajo al otro -->
			<div class="flex flex-col items-center justify-center w-full gap-5 md:gap-8 mx-auto self-center">

				{servicios.map((servicio, index) => (
					<section id={servicio.id} class="flex items-center justify-center self-center mx-auto">
					<Card 
					id={servicio.id}
					  key={index} 
					  fullWidth={true} 
					  name={servicio.name} 
					  text={servicio.text} 
					  description={servicio.description}
					  img={servicio.img} 
					  url='' 
					  bgColor={servicio.bgColor} 
					  bgNameColor={servicio.bgNameColor}  
					  textColor={servicio.textColor}  
					  textButton="" 
					  client:visible
					/>
					</section>
				))}
			</div>

			<!-- texto final -->
			<Text text={serviciosText.text2} textColor='COLOR1' client:visible/>
        </section>
    </main>

	<!-- Structured Data for Services -->
	<script type="application/ld+json" set:html={JSON.stringify(servicesSchema)}></script>
</Layout>