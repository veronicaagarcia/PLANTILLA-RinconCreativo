---
import Button from '../components/Button'
import Card from '../components/Card'
import Subtitle from '../components/Subtitle'
import Text from '../components/Text'
import WsapBtn from '../components/WsapBtn'
import Layout from '../layouts/Layout.astro'
import { homeText } from '../mock/textViews/homeText'
import { Servicios } from '../mock/servicios'
import { Testimonios } from '../mock/testimonios'
---

<Layout title={homeText.metaTitle} content={homeText.metaContent}>
	<main>
		<!-- Primera seccion (titulo, imagen , texto y boton whatsapp) -->
		 <section class="relative w-full mx-auto px-4 py-16 md:py-24 xl:py-32 md:w-11/12 xl:w-10/12 border-2 border-t-0 border-b-0 border-dashed md:border-3 md:border-y-0 border-COLOR1 flex flex-col justify-center items-center overflow-hidden">
			
			<!-- Background decorativo con gradientes -->
			<div class="absolute inset-0 bg-gradient-to-br from-CBACKGROUND via-COLOR3/5 to-COLOR2/10 opacity-50"></div>
			<div class="absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-COLOR2/20 to-COLOR3/20 rounded-full blur-3xl animate-pulse-slow"></div>
			<div class="absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-COLOR3/20 to-COLOR2/20 rounded-full blur-3xl animate-pulse-slow" style="animation-delay: 1s"></div>
			
			<!-- Floating elements -->
			<div class="absolute top-20 left-10 w-4 h-4 bg-COLOR2-accent rounded-full animate-float opacity-60"></div>
			<div class="absolute top-40 right-20 w-3 h-3 bg-COLOR3 rounded-full animate-float opacity-40" style="animation-delay: 1.5s"></div>
			<div class="absolute bottom-32 left-20 w-2 h-2 bg-COLOR2 rounded-full animate-float opacity-50" style="animation-delay: 2s"></div>

			<!-- Title animado mejorado -->
			<div class="relative z-10 text-center w-full mx-auto mb-8 md:mb-16">
				<div class="h-fit flex items-center justify-center">
					<h1 class="text-2xl md:text-6xl xl:text-7xl font-bold font-heading leading-tight">
					  <span aria-hidden="true" class="block overflow-hidden">
						<span class="inline-block animate-slide-right">
						  <span class="text-COLOR1 drop-shadow-lg">{homeText.homeTitleParte1}</span>
						</span>
					  </span>
					  <span aria-hidden="true" class="block overflow-hidden mt-2 md:mt-4">
						<span class="inline-block animate-slide-left">
						  <span class="text-COLOR2 drop-shadow-lg">{homeText.homeTitleParte2}</span>
						</span>
					  </span>
					</h1>
				</div>
				
				<!-- Subtitle con typing effect -->
				<div class="mt-6 md:mt-8 relative">
					<p class="text-lg md:text-xl xl:text-2xl text-COLOR1/80 font-medium animate-typewriter overflow-hidden whitespace-nowrap mx-auto max-w-fit border-r-2 border-COLOR2-accent">
						Creatividad que transforma ideas en realidad
					</p>
				</div>
			</div>

			<!-- imagen y texto (3 parrafos) -->
			<div class="flex flex-col md:flex-row w-full justify-center items-center mt-4 md:mt-8 xl:mt-12">
				<figure class="mx-auto my-2 flex justify-center xl:w-fit relative group parallax-container">
				  
				  {/* Floating decorative elements around image */}
				  <div class="absolute -top-8 -left-8 w-6 h-6 bg-gradient-to-br from-COLOR2-accent/40 to-COLOR3/40 rounded-full blur-sm animate-float opacity-60"></div>
				  <div class="absolute -top-4 -right-12 w-4 h-4 bg-gradient-to-br from-COLOR3/40 to-COLOR2/40 rounded-full blur-sm animate-float opacity-50" style="animation-delay: 1s"></div>
				  <div class="absolute -bottom-6 -right-4 w-8 h-8 bg-gradient-to-br from-COLOR2/30 to-COLOR2-accent/30 rounded-full blur-sm animate-float opacity-40" style="animation-delay: 2s"></div>
				  <div class="absolute -bottom-8 -left-6 w-5 h-5 bg-gradient-to-br from-COLOR3/30 to-COLOR1/30 rounded-full blur-sm animate-float opacity-35" style="animation-delay: 1.5s"></div>
				  
				  {/* Morphing background blobs */}
				  <div class="absolute inset-0 bg-gradient-to-br from-COLOR2/10 via-transparent to-COLOR3/10 rounded-full animate-morphing blur-2xl scale-150 opacity-30"></div>
				  
				  <div class="parallax-image transform rotate-2 group-hover:rotate-4 transition-all duration-700 ease-out group-hover:brightness-125 max-w-[250px] max-h-[250px] s:max-w-[390px] s:max-h-[390px] md:max-w-[400px] md:max-h-[400px] xl:max-w-[450px] xl:max-h-[650px] rounded-3xl shadow-2xl shadow-COLOR3/30 group-hover:shadow-2xl group-hover:shadow-COLOR2/40 xl:group-hover:scale-110 overflow-hidden relative">
					
					{/* Image shimmer overlay */}
					<div class="absolute inset-0 bg-gradient-to-45 from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transform -translate-x-full -translate-y-full group-hover:translate-x-full group-hover:translate-y-full transition-all duration-1000 ease-out z-20"></div>
					
					{/* Main image with parallax */}
					<img 
					  class="parallax-main-img w-full h-full object-cover transition-all duration-700 ease-out group-hover:scale-105"
					  src={homeText.homeFirstImg} 
					  alt="Equipo creativo de Rincón Creativo trabajando en diseños innovadores para proyectos de identidad visual y branding"
					  width="450"
					  height="650"
					/>
					
					{/* Logo overlay with enhanced effects */}
					<img 
					  class="w-full h-full object-contain absolute inset-0 opacity-0 group-hover:opacity-100 transition-all duration-500 ease-out transform group-hover:scale-110 group-hover:rotate-1 z-10"
					  src={homeText.urlLogo} 
					  alt={`Logo distintivo de ${homeText.clientName} - Estudio de diseño creativo especializado en identidad visual`}
					  width="450"
					  height="650"
					/>
					
					{/* Glow effect border */}
					<div class="absolute inset-0 rounded-3xl border-2 border-transparent group-hover:border-COLOR2-accent/50 transition-all duration-500 group-hover:shadow-COLOR2-accent/30 group-hover:shadow-lg"></div>
				  </div>
				</figure>
				<div class="w-full md:w-10/12 md:mr-5 xl:mr-14 lg:w-5/12 stagger-container">
				  
				  {/* Enhanced paragraphs with staggered animations */}
				  <div class="group relative mt-4 md:mt-8 xl:mt-12 mb-4 md:mb-8 xl:mb-12">
					{/* Decorative line */}
					<div class="absolute -left-4 top-0 w-1 h-full bg-gradient-to-b from-COLOR2 to-COLOR3 rounded-full opacity-0 animate-stagger-1 transform scale-y-0 origin-top"></div>
					
					<p class="text-star animate-stagger-1 text-COLOR1 hover:text-COLOR2-dark transition-all duration-500 ease-out hover:scale-[1.02] group-hover:text-shadow-sm relative z-10 text-base md:text-lg leading-relaxed px-4 py-2 rounded-lg hover:bg-COLOR2/5">
					  <span class="typing-effect">{homeText.homeFirstTextP1}</span>
					</p>
				  </div>
				  
				  <div class="group relative mb-4 md:mb-8 xl:mb-12">
					{/* Decorative elements */}
					<div class="absolute -right-4 top-2 w-3 h-3 bg-gradient-to-br from-COLOR3 to-COLOR2-accent rounded-full opacity-0 animate-stagger-2 animate-pulse"></div>
					
					<p class="text-end animate-stagger-2 text-COLOR1 hover:text-COLOR3-dark transition-all duration-500 ease-out hover:scale-[1.02] hover:text-shadow-sm relative z-10 text-base md:text-lg leading-relaxed px-4 py-2 rounded-lg hover:bg-COLOR3/5">
					  <span class="typing-effect" style="animation-delay: 0.5s">{homeText.homeFirstTextP2}</span>
					</p>
				  </div>
				  
				  <div class="group relative mb-4 md:mb-8 xl:mb-12">
					{/* Interactive accent */}
					<div class="absolute -left-2 -top-2 w-2 h-2 bg-gradient-to-br from-COLOR2-accent to-COLOR3 rounded-full opacity-0 animate-stagger-3 animate-ping"></div>
					
					<p class="text-start animate-stagger-3 text-COLOR1 hover:text-COLOR2-dark transition-all duration-500 ease-out hover:scale-[1.02] hover:text-shadow-sm relative z-10 text-base md:text-lg leading-relaxed px-4 py-2 rounded-lg hover:bg-COLOR2/5">
					  <span class="typing-effect" style="animation-delay: 1s">{homeText.homeFirstTextP3}</span>
					</p>
				  </div>
				</div>
			  </div>

			<!-- Boton que te lleva al whatsapp con un mensaje ya definido o el que se quiera mandar -->
			<div class="relative z-10 my-8 md:my-12 xl:my-16">
				<WsapBtn newMessage={''} client:visible>  
					<button class="
						group relative overflow-hidden
						w-[280px] md:w-[320px] xl:w-[360px] h-[55px] md:h-[65px] xl:h-[75px] 
						bg-gradient-to-r from-COLOR1 to-COLOR1 hover:from-COLOR2 hover:to-COLOR2-dark
						text-CBACKGROUND font-bold font-heading
						text-lg md:text-xl xl:text-2xl
						rounded-2xl shadow-2xl hover:shadow-COLOR2/30
						transform hover:scale-105 hover:-translate-y-2 active:scale-95
						transition-all duration-500 ease-out
						border border-white/20 hover:border-COLOR2-accent/40
						backdrop-blur-sm
						">
						<!-- Shine effect -->
						<div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 transform -translate-x-full group-hover:translate-x-full rounded-2xl"></div>
						
						<!-- Button text -->
						<span class="relative z-10 flex items-center justify-center gap-3">
							<svg class="w-6 h-6 md:w-7 md:h-7 transition-transform duration-300 group-hover:scale-110 group-hover:rotate-12" fill="currentColor" viewBox="0 0 24 24">
								<path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"/>
							</svg>
							{homeText.TextFirstButton}
						</span>
						
						<!-- Ripple effect -->
						<div class="absolute inset-0 rounded-2xl opacity-0 group-active:opacity-20 bg-white scale-0 group-active:scale-100 transition-all duration-300"></div>
					</button>
				</WsapBtn>
			</div>

			<!-- Segunda seccion (Subtitulo y texto presentacion servicios ) -->
			<Subtitle name={homeText.Subtitle1} bgColor='bg-COLOR3' textColor='CBACKGROUND' client:visible/>
			<Text text={homeText.homeSecondText} textColor='COLOR1' client:visible/>

			<!-- card servicios y link servicios-->
			<div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 md:gap-8 xl:gap-10 py-8 md:py-12 place-items-center w-full servicios-grid">

				{Servicios.map((servicio, index) => (
					<Card 
					  key={index}  
					  id={servicio.id}
					  name={servicio.name} 
					  text={servicio.text} 
					  img={servicio.img} 
					  url={servicio.url} 
					  bgColor={servicio.bgColor} 
					  bgNameColor={servicio.bgNameColor}  
					  textColor={servicio.textColor}  
					  textButton="" 
					  description=""
					  client:visible
					/>
				))}
			</div>

			<!-- Cuarta seccion (subtitulo, texto y cards testimonios) -->
			<div class="mx-auto flex flex-col justify-center items-center mb-8 md:mb-12 xl:mb-20">
			 <Subtitle name={homeText.testimoniosName} bgColor='bg-COLOR1' textColor='COLOR3' client:visible/>
			 <Text text={homeText.testimoniosText} textColor='COLOR1' client:visible/>

			 <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 md:gap-8 xl:gap-10 py-6 md:py-8 place-items-center w-full">

				{Testimonios.map((testimonio, index) => (
					<Card 
					id=""
					  key={index}  
					  name={testimonio.name} 
					  text={testimonio.text} 
					  bgColor='CBACKGROUND' 
					  bgNameColor='COLOR3' 
					  textColor='COLOR1' 
					  url='' 
					  img='' 
					  textButton="" 
					  description=""
					  client:visible
					/>
				))}
			 </div>
			</div>

			<!-- cierre con boton que lleva a contacto -->
			<Subtitle name={homeText.contactoName} bgColor='bg-COLOR3' textColor='COLOR1' client:visible/>
			<Text text={homeText.contactoText} textColor='COLOR1' client:visible/>
			<Button text={homeText.contactoButtonText} url={homeText.contactoURL} client:visible/>
		 </section>
	</main>
</Layout>

<style>
	@keyframes slideRight {
	  from { 
		transform: translateX(-100%) scale(0.8); 
		opacity: 0;
	  }
	  to { 
		transform: translateX(0) scale(1); 
		opacity: 1;
	  }
	}
  
	@keyframes slideLeft {
	  from { 
		transform: translateX(100%) scale(0.8); 
		opacity: 0;
	  }
	  to { 
		transform: translateX(0) scale(1); 
		opacity: 1;
	  }
	}

	@keyframes typewriter {
	  0% { width: 0; }
	  50% { width: 0; }
	  100% { width: 100%; }
	}

	@keyframes blink {
	  0%, 50% { border-color: transparent; }
	  51%, 100% { border-color: #FFD700; }
	}

	@keyframes shimmer {
	  0% { background-position: -200% 0; }
	  100% { background-position: 200% 0; }
	}

	@keyframes glow {
	  0%, 100% { filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.5)); }
	  50% { filter: drop-shadow(0 0 20px rgba(255, 51, 102, 0.8)) drop-shadow(0 0 30px rgba(255, 51, 102, 0.6)); }
	}
  
	.animate-slide-right {
	  animation: slideRight 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
	}
  
	.animate-slide-left {
	  animation: slideLeft 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) 0.5s forwards;
	  opacity: 0;
	}

	.animate-typewriter {
	  animation: typewriter 3s steps(40, end) 2s forwards, blink 1s infinite 5s;
	  width: 0;
	}
  
	.hero-gradient-text-1 {
	  background: linear-gradient(135deg, #1A1E2E 0%, #FF3366 50%, #FFD700 100%);
	  background-size: 200% 200%;
	  -webkit-background-clip: text;
	  background-clip: text;
	  -webkit-text-fill-color: transparent;
	  animation: shimmer 3s ease-in-out infinite, glow 2s ease-in-out infinite alternate;
	}
  
	.hero-gradient-text-2 {
	  background: linear-gradient(135deg, #FFD700 0%, #00C9A7 50%, #1A1E2E 100%);
	  background-size: 200% 200%;
	  -webkit-background-clip: text;
	  background-clip: text;
	  -webkit-text-fill-color: transparent;
	  animation: shimmer 3s ease-in-out infinite 0.5s, glow 2s ease-in-out infinite alternate 0.5s;
	}

	/* Efectos de resplandor para elementos flotantes */
	.animate-float {
	  animation: float 6s ease-in-out infinite;
	}

	@keyframes float {
	  0%, 100% { 
		transform: translateY(0px) rotate(0deg); 
		opacity: 0.6;
	  }
	  25% { 
		transform: translateY(-20px) rotate(90deg); 
		opacity: 1;
	  }
	  50% { 
		transform: translateY(-10px) rotate(180deg); 
		opacity: 0.8;
	  }
	  75% { 
		transform: translateY(-15px) rotate(270deg); 
		opacity: 0.9;
	  }
	}

	/* Glassmorphism effect para la sección */
	section {
	  backdrop-filter: blur(10px);
	  -webkit-backdrop-filter: blur(10px);
	}

	/* Mejora de sombras para profundidad */
	.drop-shadow-lg {
	  filter: drop-shadow(0 10px 8px rgb(0 0 0 / 0.04)) drop-shadow(0 4px 3px rgb(0 0 0 / 0.1));
	}

	/* Advanced micro-interactions */
	@keyframes typing {
	  from { width: 0; }
	  to { width: 100%; }
	}

	@keyframes fadeInStagger {
	  0% { 
		opacity: 0; 
		transform: translateY(30px) scale(0.95); 
		filter: blur(5px);
	  }
	  100% { 
		opacity: 1; 
		transform: translateY(0) scale(1); 
		filter: blur(0px);
	  }
	}

	@keyframes scaleInY {
	  0% { 
		transform: scaleY(0); 
		opacity: 0;
	  }
	  100% { 
		transform: scaleY(1); 
		opacity: 1;
	  }
	}

	@keyframes slideInDiagonal {
	  0% { 
		transform: translate(-50px, -50px) scale(0.8); 
		opacity: 0;
	  }
	  100% { 
		transform: translate(0, 0) scale(1); 
		opacity: 1;
	  }
	}

	/* Enhanced stagger animations */
	.animate-stagger-1 {
	  animation: fadeInStagger 0.8s ease-out 0.2s both;
	}

	.animate-stagger-2 {
	  animation: fadeInStagger 0.8s ease-out 0.4s both;
	}

	.animate-stagger-3 {
	  animation: fadeInStagger 0.8s ease-out 0.6s both;
	}

	/* Typing effect for text */
	.typing-effect {
	  display: inline-block;
	  overflow: hidden;
	  white-space: normal;
	  border-right: 2px solid #FFD700;
	  animation: blink 1s infinite;
	  animation-fill-mode: both;
	  line-height: 1.6;
	}

	/* Parallax effects */
	.parallax-container {
	  transform-style: preserve-3d;
	  perspective: 1000px;
	}

	.parallax-image {
	  transform-origin: center;
	  will-change: transform;
	}

	.parallax-main-img {
	  transform-origin: center;
	  transition: transform 0.3s ease-out;
	}

	/* Advanced hover states */
	.group:hover .parallax-main-img {
	  transform: scale(1.05) rotateX(2deg) rotateY(2deg);
	}

	/* Scroll-triggered animations */
	@media (prefers-reduced-motion: no-preference) {
	  .stagger-container > * {
		opacity: 0;
		transform: translateY(20px);
		animation: fadeInStagger 0.6s ease-out forwards;
	  }

	  .stagger-container > *:nth-child(1) { animation-delay: 0.1s; }
	  .stagger-container > *:nth-child(2) { animation-delay: 0.2s; }
	  .stagger-container > *:nth-child(3) { animation-delay: 0.3s; }
	  .stagger-container > *:nth-child(4) { animation-delay: 0.4s; }
	}

	/* Enhanced floating elements */
	@keyframes advancedFloat {
	  0%, 100% { 
		transform: translateY(0px) rotate(0deg) scale(1); 
		opacity: 0.6;
	  }
	  25% { 
		transform: translateY(-15px) rotate(90deg) scale(1.1); 
		opacity: 1;
	  }
	  50% { 
		transform: translateY(-10px) rotate(180deg) scale(0.9); 
		opacity: 0.8;
	  }
	  75% { 
		transform: translateY(-20px) rotate(270deg) scale(1.05); 
		opacity: 0.9;
	  }
	}

	.animate-float {
	  animation: advancedFloat 8s ease-in-out infinite;
	}

	/* Morphing blob animation */
	@keyframes advancedMorphing {
	  0%, 100% { 
		border-radius: 60% 40% 30% 70%/60% 30% 70% 40%; 
		transform: rotate(0deg) scale(1);
	  }
	  25% { 
		border-radius: 30% 60% 70% 40%/50% 60% 30% 60%; 
		transform: rotate(90deg) scale(1.1);
	  }
	  50% { 
		border-radius: 50% 50% 80% 20%/40% 70% 30% 60%; 
		transform: rotate(180deg) scale(0.9);
	  }
	  75% { 
		border-radius: 70% 30% 40% 60%/30% 40% 70% 60%; 
		transform: rotate(270deg) scale(1.05);
	  }
	}

	.animate-morphing {
	  animation: advancedMorphing 12s ease-in-out infinite;
	}

	/* Text enhancement effects */
	.text-shadow-sm {
	  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
	}

	.text-shadow-lg {
	  text-shadow: 0 4px 8px rgba(0, 0, 0, 0.12), 0 2px 4px rgba(0, 0, 0, 0.08);
	}

	/* Responsive adjustments */
	@media (max-width: 768px) {
	  .hero-gradient-text-1,
	  .hero-gradient-text-2 {
		background-size: 150% 150%;
	  }
	  
	  .animate-typewriter {
		font-size: 1rem;
	  }

	  .typing-effect {
		animation: blink 1s infinite;
		border-right: 1px solid #FFD700;
	  }

	  .parallax-image {
		transform: none !important;
	  }
	}

	/* Accessibility improvements */
	@media (prefers-reduced-motion: reduce) {
	  .typing-effect {
		animation: none;
		border-right: none;
		white-space: normal;
		overflow: visible;
	  }
	  
	  .parallax-container,
	  .parallax-image,
	  .parallax-main-img {
		transform: none !important;
		transition: none !important;
	  }
	  
	  .animate-stagger-1,
	  .animate-stagger-2,
	  .animate-stagger-3 {
		animation: none;
		opacity: 1;
		transform: none;
	  }
	}

</style>